import matplotlib.pyplot as plt

stride = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536]
stride_str = ['1', '2', '4', '8', '16', '32', '64', '128', '256', '512', '1K', '2K', '4K', '8K', '16K', '32K', '64K']

array_size = [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28]

stride1_cycles = [8.14904, 8.94614, 8.92362, 8.92862, 9.18504, 9.42598, 9.92794, 9.0704, 9.35094, 9.29074, 9.3528, 9.06834, 9.06792, 9.24012, 9.27834, 9.27182, 19.09288, 18.9861, 18.9453, 20.81194]
stride2_cycles = [9.846520, 8.874420, 8.820500, 8.792180, 8.793340, 8.791380, 8.913400, 8.869740, 8.836960, 9.497800, 8.861320, 8.854020, 8.947540, 9.530620, 19.241760, 19.191960, 19.201520, 19.907420, 20.465160, 19.151660]
stride4_cycles = [8.852220, 8.985440, 8.875400, 8.864920, 9.079100, 9.442480, 9.057580, 8.995520, 9.098340, 9.282460, 9.146540, 9.486440, 9.529080, 10.981260, 18.092200, 17.344060, 20.256960, 19.508500, 20.249400, 19.498320]
stride8_cycles = [8.767820, 8.749440, 8.767540, 9.079260, 8.764460, 8.765840, 9.474920, 14.393160, 14.265520, 14.944160, 15.380840, 15.554540, 17.129400, 17.805220, 20.007360, 18.552340, 21.288660, 18.979980, 18.648200, 18.553340]
stride16_cycles = [8.936280, 8.765680, 8.766460, 8.764400, 10.177340, 8.771900, 9.198400, 16.803420, 15.307140, 16.087540, 18.795780, 19.267500, 28.210500, 40.661220, 46.457680, 52.073980, 44.653760, 44.755160, 44.640480, 42.792920]
stride32_cycles = [8.790140, 8.763420, 9.048520, 8.759980, 8.763140, 9.442780, 8.787700, 17.072920, 15.963840, 21.421280, 27.575340, 29.385660, 34.633420, 81.517920, 117.019380, 118.713000, 124.525500, 131.160600, 130.182020, 130.142820]
stride64_cycles =[8.772380, 8.765860, 8.764380, 9.296080, 8.762580, 8.764040, 9.732600, 17.852300, 17.127820, 22.633500, 30.763340, 32.768040, 36.452720, 78.342980, 110.515340, 112.269940, 111.604240, 123.755520, 125.070620, 122.378520]
stride128_cycles = [8.770320, 8.763400, 8.759340, 8.764800, 8.764880, 8.762820, 8.763200, 18.382660, 17.207160, 24.036760, 35.144260, 38.203520, 42.893220, 80.393040, 120.349220, 120.985480, 126.186200, 121.693040, 120.858140, 120.364920]
stride256_cycles = [8.766460, 8.765080, 8.765340, 8.763720, 9.418340, 8.764940, 8.765800, 20.300600, 18.279360, 28.505560, 44.926080, 45.375020, 61.179800, 75.863880, 135.292400, 171.382220, 172.933600, 147.488880, 151.103200, 149.796780]
stride512_cycles = [8.766120, 9.664300, 8.764880, 8.763700, 8.766440, 8.763960, 8.764240, 20.582700, 18.402560, 29.095220, 47.754660, 50.476120, 68.099660, 87.943260, 149.530940, 180.752600, 177.215200, 171.582360, 174.095040, 174.038560]
stride1k_cycles = [8.766080, 8.765260, 8.765520, 8.764500, 8.762620, 8.759620, 8.762240, 18.763860, 16.767620, 20.117620, 38.020460, 48.405860, 50.277580, 87.923240, 132.110920, 155.868300, 167.042080, 193.052700, 194.034660, 194.897860]
stride2k_cycles = [8.565120, 8.762480, 8.765080, 8.763240, 8.764900, 8.760800, 8.762720, 18.764880, 18.761780, 16.766580, 29.380760, 33.950600, 47.075960, 72.904060, 119.315880, 128.540280, 161.704380, 162.322380, 164.021700, 164.915520]
stride4k_cycles = [8.766640, 8.761360, 9.652340, 8.759860, 8.764500, 8.764300, 8.765800, 18.764040, 18.762940, 18.765300, 25.401080, 30.607980, 39.008120, 46.558920, 79.209160, 133.042680, 165.228640, 192.091800, 170.021340, 170.771740]
stride8k_cycles = [8.731680, 8.765980, 8.765420, 8.765240, 8.759620, 8.764880, 8.765280, 18.758680, 18.766080, 18.764520, 28.753220, 35.401140, 32.808900, 45.440160, 46.311080, 135.194300, 166.185540, 167.841980, 170.249260, 171.532260]
stride16k_cycles = [8.766980, 9.682460, 8.764300, 8.765640, 8.764900, 8.761940, 8.763280, 18.759880, 18.761420, 18.764500, 28.765080, 39.690600, 25.312900, 44.339120, 40.773180, 116.897000, 165.736160, 203.641260, 192.342160, 206.446720]
stride32k_cycles = [8.822500, 8.765180, 8.766280, 8.763640, 8.766840, 8.763600, 8.764380, 18.764760, 18.764860, 18.765240, 28.764620, 39.421360, 28.098080, 49.531120, 38.985880, 119.233200, 179.628460, 193.714580, 196.660160, 193.813660]
stride64k_cycles = [8.768400, 8.763880, 8.766040, 8.759640, 8.764760, 8.760920, 8.764020, 18.763480, 18.762440, 19.426180, 28.761640, 39.257120, 28.766980, 48.101480, 27.039140, 135.233240, 167.580720, 191.686300, 196.295600, 198.751920]

plt.plot(array_size, stride1_cycles)
plt.plot(array_size, stride2_cycles)
plt.plot(array_size, stride4_cycles)
plt.plot(array_size, stride8_cycles)
plt.plot(array_size, stride16_cycles)
plt.plot(array_size, stride32_cycles)
plt.plot(array_size, stride64_cycles)
plt.plot(array_size, stride128_cycles)
plt.plot(array_size, stride256_cycles)
plt.plot(array_size, stride512_cycles)
plt.plot(array_size, stride1k_cycles)
plt.plot(array_size, stride2k_cycles)
plt.plot(array_size, stride4k_cycles)
plt.plot(array_size, stride8k_cycles)
plt.plot(array_size, stride16k_cycles)
plt.plot(array_size, stride32k_cycles)
plt.plot(array_size, stride64k_cycles)

plt.title("Memory latency measurement", fontsize=25)
plt.xlabel("Array size (log2)", fontsize=25)
plt.ylabel("Cycles", fontsize=25)

plt.tick_params(axis="both", which="major", labelsize=23)
plt.tick_params(axis="both", which="minor", labelsize=23)

plt.legend(['stride 1', 'stride 2','stride 4','stride 8','stride 16','stride 32','stride 64','stride 128','stride 256','stride 512','stride 1K','stride 2K','stride 4K','stride 8K','stride 16K','stride 32K','stride 64K'], loc='upper left')

plt.show()
